<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>O Começo</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- GERAL --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html {
            height: 100%; width: 100%; overflow: hidden;
            font-family: 'Montserrat', sans-serif;
            background-color: #000; color: white;
        }

        /* --- 1. TELA DE INÍCIO (Para liberar o áudio) --- */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 100;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .start-btn {
            padding: 15px 40px; border: 1px solid white; background: transparent;
            color: white; font-size: 1.2rem; cursor: pointer; border-radius: 30px;
            transition: all 0.3s;
        }
        .start-btn:hover { background: white; color: black; }

        /* --- 2. VÍDEO --- */
        #video-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 50; background: black; transition: opacity 2s ease;
            display: none; /* Começa oculto até clicar em iniciar */
        }
        video {
            width: 100%; height: 100%; object-fit: contain; /* Ajusta o vídeo sem cortar */
        }

        /* --- 3. O DESENHO E O JOGO --- */
        #game-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            /* Fundo branco pois o desenho tem fundo branco */
            background-color: #fff; 
            background-image: url('desenho.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain; /* Mostra o desenho inteiro */
            z-index: 10; opacity: 0; transition: opacity 2s ease;
        }

        /* A "Máscara" do Raio (Ajuste a posição aqui se precisar) */
        #lightning-bolt {
            position: absolute;
            /* Posições baseadas no seu desenho */
            top: 60%; 
            left: 35%;
            width: 10%; 
            height: 15%;
            border-radius: 50%;
            pointer-events: none;
            /* Efeito inicial neutro */
            mix-blend-mode: multiply; 
            transition: all 1s ease;
        }

        /* Animação do Raio quando acerta */
        #lightning-bolt.active {
            box-shadow: 0 0 50px 20px rgba(255, 215, 0, 0.8); /* Brilho Dourado */
            background-color: rgba(255, 215, 0, 0.3);
            transform: scale(1.5);
            animation: electricPulse 0.5s infinite alternate;
        }
        @keyframes electricPulse {
            from { opacity: 0.6; transform: scale(1.4); }
            to { opacity: 1; transform: scale(1.6); }
        }

        /* Interface da Pergunta */
        .ui-layer {
            position: absolute; bottom: 10%; left: 0; width: 100%;
            display: flex; flex-direction: column; align-items: center;
            z-index: 20;
        }

        h2.question {
            color: #333; /* Texto escuro pois o fundo é branco */
            margin-bottom: 20px; font-weight: 700; font-size: 1.5rem;
            text-align: center;
        }

        input {
            padding: 10px 20px; border: 2px solid #333; border-radius: 30px;
            background: transparent; color: #333; font-size: 1.1rem;
            text-align: center; outline: none; font-family: 'Montserrat', sans-serif;
            width: 80%; max-width: 300px; transition: transform 0.2s;
        }

        /* --- 4. TELA FINAL --- */
        #final-sequence {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 80;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 2s ease;
        }

        .final-text {
            color: #fff; font-size: 1.5rem; margin-bottom: 40px; opacity: 0;
            transition: opacity 2s ease; font-weight: 300; text-align: center;
        }

        .digit-reveal {
            display: flex; flex-direction: column; align-items: center; opacity: 0; transition: opacity 2s ease;
        }
        .unlock-label { font-size: 0.8rem; letter-spacing: 4px; color: #888; text-transform: uppercase; margin-bottom: 10px; }
        .number-6 {
            font-size: 9rem; font-weight: 100; color: #fff;
            text-shadow: 0 0 40px rgba(255, 255, 255, 0.8);
        }

        /* Responsividade */
        @media (min-aspect-ratio: 16/9) {
            /* Ajuste para PC se necessário */
            #lightning-bolt { top: 65%; left: 42%; width: 5%; height: 20%; }
        }

    </style>
</head>
<body>

    <div id="start-overlay">
        <button class="start-btn" onclick="startExperience()">Iniciar Memória</button>
    </div>

    <div id="video-container">
        <video id="intro-video" playsinline>
            <source src="video_intro.mp4" type="video/mp4">
        </video>
    </div>

    <div id="game-container">
        <div id="lightning-bolt"></div>

        <div class="ui-layer" id="ui-box">
            <h2 class="question">Qual foi o começo?</h2>
            <input type="text" id="answer-input" placeholder="Digite..." autocomplete="off">
        </div>
    </div>

    <div id="final-sequence">
        <p class="final-text" id="end-phrase">Foi ali que tudo começou.</p>
        <div class="digit-reveal" id="digit-box">
            <span class="unlock-label">Dígito Desbloqueado</span>
            <span class="number-6">6</span>
        </div>
    </div>

    <script>
        const videoContainer = document.getElementById('video-container');
        const video = document.getElementById('intro-video');
        const gameContainer = document.getElementById('game-container');
        const input = document.getElementById('answer-input');
        const bolt = document.getElementById('lightning-bolt');
        
        // --- 1. Iniciar Experiência ---
        function startExperience() {
            document.getElementById('start-overlay').style.display = 'none';
            videoContainer.style.display = 'block';
            video.play();
        }

        // --- 2. Quando o vídeo acaba ---
        video.onended = function() {
            videoContainer.style.opacity = 0; // Fade out vídeo
            setTimeout(() => {
                videoContainer.style.display = 'none';
                gameContainer.style.opacity = 1; // Fade in Desenho
            }, 1500);
        };

        // --- 3. Lógica do Jogo ---
        input.addEventListener('keyup', (e) => {
            if (e.key === 'Enter') checkAnswer();
        });

        function checkAnswer() {
            const val = input.value.trim().toLowerCase();

            if (val === 'senai') {
                handleSuccess();
            } else {
                handleError();
            }
        }

        function handleError() {
            // Tremor leve (Shake)
            input.style.transform = "translateX(5px)";
            setTimeout(() => input.style.transform = "translateX(-5px)", 50);
            setTimeout(() => input.style.transform = "translateX(5px)", 100);
            setTimeout(() => input.style.transform = "translateX(0)", 150);
            
            // Opcional: Limpar input
            // input.value = '';
        }

        function handleSuccess() {
            // 1. Remove interface
            document.getElementById('ui-box').style.opacity = 0;
            
            // 2. Anima o RAIO
            bolt.classList.add('active');

            // 3. Após 2 segundos admirando o raio, vai para o final
            setTimeout(() => {
                goToFinal();
            }, 2500);
        }

        function goToFinal() {
            const finalScreen = document.getElementById('final-sequence');
            
            // Escurece tudo
            finalScreen.style.opacity = 1;
            
            // Texto surge
            setTimeout(() => {
                document.getElementById('end-phrase').style.opacity = 1;
            }, 1000);

            // Número surge
            setTimeout(() => {
                document.getElementById('digit-box').style.opacity = 1;
            }, 4000);
        }
    </script>
</body>
</html>
